<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Matter.js Ball Pool Demo</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="stylesheet" href="./assets/style.css">
  <style>
    canvas {
      display: block;
      position: fixed;
      left: 0;
      top: 0;
      z-index: 3;
      pointer-events: auto;
    }

    .clip-bg {
      z-index: 1;
    }
  </style>
</head>
<script>
  (function (d) {
    var config = {
        kitId: 'cgc8yqp',
        scriptTimeout: 3000,
        async: true
      },
      h = d.documentElement,
      t = setTimeout(function () {
        h.className = h.className.replace(/\bwf-loading\b/g, "") + " wf-inactive";
      }, config.scriptTimeout),
      tk = d.createElement("script"),
      f = false,
      s = d.getElementsByTagName("script")[0],
      a;
    h.className += " wf-loading";
    tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
    tk.async = true;
    tk.onload = tk.onreadystatechange = function () {
      a = this.readyState;
      if (f || a && a != "complete" && a != "loaded") return;
      f = true;
      clearTimeout(t);
      try {
        Typekit.load(config)
      } catch (e) {}
    };
    s.parentNode.insertBefore(tk, s)
  })(document);
</script>

<body>
  <div id="center-text">2024-12-03,22:27</div>
  <div class="clip-bg" id="clip-bg">
    <div class="clip-text" id="clip-text">
    </div>
  </div>
  <div id="article-list" class="article-list"></div>
  <!-- Matter.js 라이브러리 로드 -->
  <script src="../build/matter.js"></script>
  <script src="./assets/canvas.js"></script>
  <script src="./assets/clipmask.js"></script>
  <script src="./assets/datePhysics.js"></script>
  <script src="./assets/articleLoader.js"></script>
  <script>
    // 날짜와 클리핑 마스크 인터랙션 + 기사 변경
    var pressIntervalId = null;
    document.body.addEventListener('mousedown', function (e) {
      if (e.target.closest('#article-list')) return; // ignore clicks in sidebar
      if (window.startClipShake) window.startClipShake();
      if (window.addOneDay) window.addOneDay();
      if (window.nextArticle) window.nextArticle();
      if (pressIntervalId) return;
      pressIntervalId = setInterval(function () {
        if (window.addOneDay) window.addOneDay();
        if (window.nextArticle) window.nextArticle();
      }, 500);
    });
    document.body.addEventListener('mouseup', function (e) {
      if (e.target.closest('#article-list')) return;
      if (window.stopClipShake) window.stopClipShake();
      clearInterval(pressIntervalId);
      pressIntervalId = null;
    });
    document.body.addEventListener('mouseleave', function (e) {
      if (e.target.closest('#article-list')) return;
      if (window.stopClipShake) window.stopClipShake();
      clearInterval(pressIntervalId);
      pressIntervalId = null;
    });
  </script>
</body>

</html>